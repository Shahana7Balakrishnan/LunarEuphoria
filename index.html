<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cosmic Atlas ‚Äî Explore Space</title>
  <style>
    :root{
      --galaxy-1:#0b0026; /* deep space */
      --galaxy-2:#220043; /* nebula purple */
      --galaxy-3:#001a33; /* blue tint */
      --accent:#9d4edd;   /* purple accent */
      --accent-2:#7c3aed; /* deeper accent */
      --text:#eae9ff;
      --muted:#b7b6d6;
      --card:#120826cc;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1000px 600px at 20% 20%, rgba(124,58,237,.25), transparent 60%),
                  radial-gradient(900px 800px at 80% 10%, rgba(13,148,136,.15), transparent 60%),
                  radial-gradient(1200px 900px at 50% 110%, rgba(99,102,241,.18), transparent 60%),
                  linear-gradient(160deg, var(--galaxy-1), var(--galaxy-2) 50%, var(--galaxy-3));
      overflow-x:hidden;
    }

    /* Glittering starfield (pure CSS, layered, animated) */
    .starfield, .starfield::before, .starfield::after{
      position:fixed; inset:0; content:""; pointer-events:none; z-index:-1;
      background: transparent;
    }
    /* a cluster of small stars via box-shadow */
    .starfield{ background: radial-gradient(circle at 50% 50%, rgba(255,255,255,.03), transparent 60%); }
    .starfield::before{ 
      box-shadow: 
        20vw 10vh 1px 1px rgba(255,255,255,.8),
        60vw 30vh 1px 1px rgba(255,255,255,.8),
        80vw 70vh 1px 1px rgba(255,255,255,.8),
        10vw 60vh 1px 1px rgba(255,255,255,.8),
        30vw 80vh 1px 1px rgba(255,255,255,.8),
        50vw 50vh 2px 2px rgba(255,255,255,.9),
        70vw 20vh 1px 1px rgba(255,255,255,.7),
        40vw 15vh 1px 1px rgba(255,255,255,.7);
      width:2px; height:2px; background:transparent; animation: twinkle 3s infinite ease-in-out;
    }
    .starfield::after{
      box-shadow:
        25vw 25vh 1px 1px rgba(255,255,255,.6),
        45vw 75vh 1px 1px rgba(255,255,255,.6),
        85vw 40vh 1px 1px rgba(255,255,255,.6),
        15vw 40vh 2px 2px rgba(255,255,255,.9),
        55vw 85vh 1px 1px rgba(255,255,255,.6),
        5vw  20vh 1px 1px rgba(255,255,255,.6);
      width:2px; height:2px; background:transparent; animation: twinkle 4.5s infinite ease-in-out reverse;
    }
    @keyframes twinkle{ 0%,100%{opacity:.4; filter:drop-shadow(0 0 6px white)} 50%{opacity:1; filter:drop-shadow(0 0 14px white)} }

    header{
      position:sticky; top:0; backdrop-filter: blur(8px); background:linear-gradient(90deg, #00000088, #00000033);
      border-bottom:1px solid #ffffff22; z-index:50;
    }
    .wrap{max-width:1100px; margin:0 auto; padding:16px; display:flex; align-items:center; gap:16px}
    .brand{font-weight:800; letter-spacing:.5px; font-size:20px; display:flex; align-items:center; gap:.5rem}
    .brand .dot{width:10px; height:10px; border-radius:50%; background:radial-gradient(circle, #fff, var(--accent)); box-shadow:0 0 14px var(--accent)}

    /* Purple search at the corner */
    .search{margin-left:auto; display:flex; align-items:center; gap:8px}
    .search input{ width:260px; max-width:54vw; padding:10px 12px; border-radius:999px; border:1px solid #ffffff33; outline:none; color:white; background:linear-gradient(180deg, #4b0082, #6d28d9);
      box-shadow:inset 0 0 10px #ffffff14, 0 0 14px #6d28d955}
    .search button{ padding:10px 14px; border:0; border-radius:999px; cursor:pointer; font-weight:600; color:white; background:linear-gradient(180deg, var(--accent), var(--accent-2)); box-shadow:0 0 16px #7c3aed66; }
    .search button:hover{ transform:translateY(-1px); box-shadow:0 0 20px #7c3aed99 }

    main{max-width:1100px; margin:0 auto; padding:32px 16px 80px}

    .hero{ display:grid; grid-template-columns: 1.1fr .9fr; gap:24px; align-items:center }
    .card{ background:var(--card); border:1px solid #ffffff14; border-radius:18px; padding:20px; box-shadow:0 10px 40px #0008 }

    h1{font-size: clamp(28px, 3.5vw, 46px); margin:.2rem 0 0}
    p.lead{color:var(--muted); line-height:1.6}

    /* Galaxy scene with 2D CSS planets (pure shapes) */
    .scene{ position:relative; height:520px; border-radius:18px; overflow:hidden; border:1px dashed #ffffff2a }

    /* orbits */
    .orbit{ position:absolute; inset:50% auto auto 50%; transform:translate(-50%, -50%); border-radius:50%; border:1px solid #ffffff1a; animation:slowspin 140s linear infinite; }
    .orbit.o1{ width:140px; height:140px }
    .orbit.o2{ width:220px; height:220px }
    .orbit.o3{ width:320px; height:320px }
    .orbit.o4{ width:430px; height:430px }
    .orbit.o5{ width:540px; height:540px }
    @keyframes slowspin{ from{rotate:0deg} to{rotate:360deg} }

    /* Sun */
    .sun{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:90px; height:90px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff6, #fffb, #ffce00 40%, #e46c00 75%);
      box-shadow:0 0 40px 10px #ffd54f88, 0 0 120px 20px #ff980055 }

    /* Generic planet style */
    .planet{ position:absolute; border-radius:50%; filter: drop-shadow(0 0 10px #ffffff33); cursor:pointer; transition: transform .2s ease, filter .2s }
    .planet:hover{ transform: scale(1.08); filter: drop-shadow(0 0 18px #fff) }

    /* Planets placed on orbits */
    .mercury{ width:12px; height:12px; background:radial-gradient(circle,#bbb,#555); left:calc(50% + 70px); top:50% }
    .venus{ width:18px; height:18px; background:radial-gradient(circle,#e3c07a,#7a5b2e); left:calc(50% - 110px); top:calc(50% - 20px) }
    .earth{ width:20px; height:20px; background:radial-gradient(circle at 30% 30%, #9be7ff, #1e90ff 55%, #0a3d62); left:calc(50% + 155px); top:calc(50% - 60px) }
    .earth::after{ content:""; position:absolute; inset:-4px; border-radius:50%; border:2px solid #7dd3fc55 }
    .mars{ width:16px; height:16px; background:radial-gradient(circle,#ff8a65,#7b240e); left:calc(50% - 200px); top:calc(50% + 50px) }
    .jupiter{ width:44px; height:44px; background:repeating-linear-gradient( to right, #cfa678 0 10px, #8e6b4a 10px 18px, #e2c39c 18px 28px ); left:calc(50% + 210px); top:calc(50% + 110px) }
    .saturn{ width:38px; height:38px; background:repeating-linear-gradient( to right, #f1d2a6 0 8px, #b79060 8px 16px, #e6c99f 16px 24px ); left:calc(50% - 265px); top:calc(50% - 135px) }
    .saturn::before{ content:""; position:absolute; left:-10px; top:50%; width:58px; height:18px; border:2px solid #e0c69b; border-radius:50%; transform:translateY(-50%) rotate(-12deg); opacity:.9; box-shadow:0 0 14px #e0c69b55 }
    .uranus{ width:28px; height:28px; background:radial-gradient(circle,#a7f3f9,#3aa7c9); left:calc(50% + 270px); top:calc(50% - 190px) }
    .neptune{ width:26px; height:26px; background:radial-gradient(circle,#6aa9ff,#223bff); left:calc(50% - 325px); top:calc(50% + 170px) }

    /* Black hole as 2D shape */
    .blackhole{ position:absolute; left:15%; top:20%; width:46px; height:46px; border-radius:50%; background: radial-gradient(circle at 50% 50%, #000, #000 40%, #1a0044 41%, transparent 60%);
      box-shadow: 0 0 30px 6px #5b21b64d, inset 0 0 18px #000; }

    /* Asteroid belt (tiny 2D rocks) */
    .asteroid{ position:absolute; width:6px; height:6px; border-radius:40% 60% 50% 50%; background: #9aa0a6; box-shadow: inset -1px -1px 2px #666; opacity:.9 }

    /* Info pill for hover */
    .hint{ position:absolute; transform:translate(-50%,-140%); background:#000000aa; padding:6px 8px; border-radius:8px; font-size:12px; opacity:0; pointer-events:none; transition:.2s; white-space:nowrap }
    .planet:hover .hint, .blackhole:hover .hint{ opacity:1 }

    /* Results area */
    .results{ margin-top:24px; display:none }
    .results.active{ display:block }
    .result-card{ display:grid; grid-template-columns: 140px 1fr; gap:16px; align-items:start; background:var(--card); border-radius:16px; padding:16px; border:1px solid #ffffff1a }
    .result-card img{ width:140px; height:140px; object-fit:cover; border-radius:12px; background:#0b0b20; }
    .result-card h3{margin:.2rem 0}
    .result-card a{ color:#c4b5fd }

    /* Footer */
    footer{ text-align:center; margin:40px 0 80px; color:#9aa0b0 }

    /* Responsive */
    @media (max-width:900px){ .hero{ grid-template-columns:1fr } .scene{ height:460px } .result-card{grid-template-columns:1fr} .result-card img{width:100%; height:220px} }
  </style>
</head>
<body>
  <div class="starfield"></div>
  <header>
    <div class="wrap">
      <div class="brand"><span class="dot"></span> Cosmic Atlas</div>
      <form class="search" id="searchForm">
        <input id="searchInput" placeholder="Search planets, black holes, galaxies‚Ä¶" autocomplete="off" />
        <button type="submit">Search</button>
      </form>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="card">
        <h1>Explore the Universe in 2D</h1>
        <p class="lead">Hover and click the hand‚Äëcrafted <strong>CSS planets</strong>, asteroids, and a stylized black hole. Use the purple search to jump to a dedicated page. Each page fetches live details from the open <strong>Wikipedia Summary API</strong>.</p>
        <ul>
          <li>ü™ê 2D planets & rings, built with pure CSS shapes</li>
          <li>‚ú® Galaxy gradient background with animated twinkling stars</li>
          <li>üîé Search takes you to <code>#/object/&lt;name&gt;</code> pages</li>
          <li>üåê Live data & images fetched from Wikipedia</li>
        </ul>
      </div>
      <div class="scene card" id="scene">
        <div class="sun" title="Sun"></div>
        <div class="orbit o1"></div>
        <div class="orbit o2"></div>
        <div class="orbit o3"></div>
        <div class="orbit o4"></div>
        <div class="orbit o5"></div>

        <a class="planet mercury" href="#/object/Mercury" aria-label="Mercury">
          <span class="hint">Mercury</span>
        </a>
        <a class="planet venus" href="#/object/Venus" aria-label="Venus"><span class="hint">Venus</span></a>
        <a class="planet earth" href="#/object/Earth" aria-label="Earth"><span class="hint">Earth</span></a>
        <a class="planet mars" href="#/object/Mars" aria-label="Mars"><span class="hint">Mars</span></a>
        <a class="planet jupiter" href="#/object/Jupiter" aria-label="Jupiter"><span class="hint">Jupiter</span></a>
        <a class="planet saturn" href="#/object/Saturn" aria-label="Saturn"><span class="hint">Saturn</span></a>
        <a class="planet uranus" href="#/object/Uranus" aria-label="Uranus"><span class="hint">Uranus</span></a>
        <a class="planet neptune" href="#/object/Neptune" aria-label="Neptune"><span class="hint">Neptune</span></a>

        <a class="blackhole" href="#/object/Black_hole" aria-label="Black hole"><span class="hint">Black hole</span></a>

        <!-- sprinkle a simple asteroid belt -->
        <script>
          // place some asteroids dynamically for variety
          (function(){
            const scene = document.currentScript.parentElement;
            for(let i=0;i<38;i++){
              const a=document.createElement('a');
              a.href = '#/object/Asteroid';
              a.className='asteroid';
              const angle = Math.random()*Math.PI*2;
              const radius = 260 + Math.random()*120; // between orbits 3-4
              const cx = scene.clientWidth/2, cy = scene.clientHeight/2;
              a.style.left = (cx + Math.cos(angle)*radius) + 'px';
              a.style.top = (cy + Math.sin(angle)*radius) + 'px';
              a.style.transform = `rotate(${Math.random()*360}deg)`;
              a.title = 'Asteroid belt';
              scene.appendChild(a);
            }
          })();
        </script>
      </div>
    </section>

    <section id="results" class="results"></section>

    <footer>
      ¬© 2025 Cosmic Atlas ‚Ä¢ Built with love for the night sky
    </footer>
  </main>

  <script>
    // ---- Router: #/object/<Title> ----
    const resultsEl = document.getElementById('results');

    function titleFromHash(){
      const m = location.hash.match(/^#\/object\/(.+)$/);
      return m ? decodeURIComponent(m[1]) : null;
    }

    function setResultsVisible(v){
      resultsEl.classList.toggle('active', !!v);
      if(!v) resultsEl.innerHTML='';
      window.scrollTo({top:0, behavior:'smooth'});
    }

    async function fetchWikiSummary(title){
      // Wikipedia REST Summary API (CORS-enabled)
      const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(title)}`;
      const r = await fetch(url, {headers:{'Accept':'application/json'}});
      if(!r.ok) throw new Error('Not found');
      return r.json();
    }

    function renderResultCard(data){
      const img = data.thumbnail?.source || data.originalimage?.source || '';
      const desc = data.description ? ` ‚Äî ${data.description}` : '';
      const extract = data.extract ? data.extract : 'No summary available.';
      const pageUrl = data.content_urls?.desktop?.page || `https://en.wikipedia.org/wiki/${encodeURIComponent(data.title)}`;
      return `
        <div class="result-card">
          ${img ? `<img alt="${data.title}" src="${img}">` : `<div style="width:140px;height:140px;border-radius:12px;border:1px dashed #ffffff22;display:grid;place-items:center;">No Image</div>`}
          <div>
            <h3>${data.title}${desc}</h3>
            <p style="color:var(--muted)">${extract}</p>
            <p><a href="${pageUrl}" target="_blank" rel="noopener">Read more on Wikipedia</a></p>
          </div>
        </div>`
    }

    async function showObjectPage(title){
      try{
        setResultsVisible(true);
        resultsEl.innerHTML = `<div class="card" style="text-align:center">Loading <em>${title}</em>‚Ä¶</div>`;
        const data = await fetchWikiSummary(title);
        resultsEl.innerHTML = renderResultCard(data);
      }catch(e){
        resultsEl.innerHTML = `<div class="card">‚ö†Ô∏è Couldn't find "${title}". Try a different name (e.g., <em>Mars</em>, <em>Milky Way</em>, <em>Black hole</em>).</div>`
      }
    }

    // Known aliases -> Wikipedia titles
    const alias = {
      mercury:"Mercury_(planet)",
      venus:"Venus", earth:"Earth", mars:"Mars", jupiter:"Jupiter", saturn:"Saturn",
      uranus:"Uranus", neptune:"Neptune",
      sun:"Sun",
      "black hole":"Black_hole", blackhole:"Black_hole",
      milkyway:"Milky_Way", galaxy:"Galaxy", galaxies:"Galaxy",
      asteroid:"Asteroid", asteroids:"Asteroid",
      ceres:"Ceres_(dwarf_planet)", pluto:"Pluto"
    };

    function normalizeQuery(q){ return q.trim().toLowerCase().replace(/\s+/g,' '); }

    // Search form -> navigate to #/object/<Title>
    const form = document.getElementById('searchForm');
    const input = document.getElementById('searchInput');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const q = normalizeQuery(input.value);
      if(!q) return;
      const mapped = alias[q.replace(/\s/g,'')] || alias[q] || q.replace(/\s/g,'_');
      location.hash = `#/object/${encodeURIComponent(mapped)}`;
    });

    // Initial route + hash changes
    window.addEventListener('hashchange', ()=>{
      const t = titleFromHash();
      if(t) showObjectPage(t); else setResultsVisible(false);
    });
    window.addEventListener('DOMContentLoaded', ()=>{
      const t = titleFromHash();
      if(t) showObjectPage(t);
    });
  </script>
</body>
</html>
